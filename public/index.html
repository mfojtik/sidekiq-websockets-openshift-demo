<!DOCTYPE html>
<html>
  <head>
  </head>
<body>
  <ul></ul>
</body>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script language="javascript" type="text/javascript">

      var logger = document.getElementsByTagName('ul')[0],
          Socket = window.MozWebSocket || window.WebSocket,
          protos = ['demo'],
          socket = new Socket('ws://' + location.hostname + ':' + '8000' + '/', protos),
          index  = 0;

      var log = function(text) {
        $('ul').append('<li>'+text+'</li>')
      };

      socket.addEventListener('open', function() {
        log('OPEN: ' + socket.protocol);
      });

      socket.onerror = function(event) {
        log('ERROR: ' + event);
      };

      socket.onmessage = function(event) {
        log('MESSAGE: ' + event.data);
      };

      socket.onclose = function(event) {
        log('CLOSE: ' + event.code + ', ' + event.reason);
      };

</script>
</html>
